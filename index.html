<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Slayder - Présentations accessibles</title>
    <!-- Copyright © 2014 Monotype Imaging Inc. All rights reserved -->
    <link href="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/css/orange-helvetica.min.css" rel="stylesheet" integrity="sha384-A0Qk1uKfS1i83/YuU13i2nx5pk79PkIfNFOVzTcjCMPGKIDj9Lqx9lJmV7cdBVQZ" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/css/boosted.min.css" rel="stylesheet" integrity="sha384-laZ3JUZ5Ln2YqhfBvadDpNyBo7w5qmWaRnnXuRwNhJeTEFuSdGbzl4ZGHAEnTozR" crossorigin="anonymous">
  <style>
    html, body {
      height: 100%;
    }
    
    body {
      display: flex;
      flex-direction: column;
    }
    
    main {
      flex-grow: 1;
      overflow-x: auto;
      overflow-y: none;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      display: flex;
    }

    section {
      flex-shrink: 0;
      overflow-x: none;
      overflow-y: auto;
      scroll-snap-align: start;
      width: 100%;
      height: 100%;
    }
  </style>
  </head>
  <body>
    <header role="banner">
      <p>header</p>
    </header>
    <main role="main" data-bs-spy="scroll" data-bs-target=".dropdown-menu">
      <section id="slide_1" tabindex="0">
        <h1>1 Hello, world!</h1>
        <a href="#slide_2">2</a>
      </section>
      <section id="slide_2" tabindex="0">
        <h1>2 Hello, world!</h1>
        <a href="#slide_3">3</a>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
        <p>Lorem</p>
      </section>
      <section id="slide_3" tabindex="0">
        <h1>3 Hello, world!</h1>
        <a href="#slide_2">2</a>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
        <p>Impsum</p>
      </section>
    </main>
    <footer class="d-flex align-items-center justify-content-evenly">
      <p></p>
      <nav class="btn-group"></nav>
      <nav class="dropdown">
        <button class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" type="button" aria-expanded="false">Sommaire</button>
      </nav>
    </header>
    <script src="https://cdn.jsdelivr.net/npm/boosted@5.3.3/dist/js/boosted.bundle.min.js" integrity="sha384-3RoJImQ+Yz4jAyP6xW29kJhqJOE3rdjuu9wkNycjCuDnGAtC/crm79mLcwj1w2o/" crossorigin="anonymous"></script>
    <script>
      // Update Hash
      document.querySelector('main').addEventListener('scroll', () => {
        document.querySelectorAll('section').forEach(section => {
          if (document.querySelector('main').scrollLeft == section.offsetLeft) window.location.hash = `#${section.id}`;
        });
      });
  
      // Build main navigation
      document.querySelector("footer nav.dropdown").appendChild(
        Object.assign(document.createElement("ul"), {
          innerHTML: Array.from(document.querySelectorAll('section')).map((section, index) => {
            return `<li><a class="dropdown-item" href="#slide_${index + 1}">${index + 1} - ${section.querySelector("h1").textContent}</a></li>`;
          }).join(""),
          className: "dropdown-menu"
        })
      );
      
      // Build controls
      ["load", "hashchange"].forEach((listener) => {
        window.addEventListener(listener, () => {
          document.querySelectorAll('section').forEach(({}, index, {length}) => {
            if (window.location.hash.split("#slide_").pop() == index + 1) {
              document.querySelector("footer p").innerHTML = `${index + 1}/${length}`;
              
              document.querySelector("footer nav.btn-group").innerHTML = `
                <ul class="pagination">
                ${index == 0 ?
                  `<li class="page-item disabled"><span class="page-link bi bi-chevron-left">Précédent</span></li>` :
                  `<li class="page-item"><a class="page-link" href="#slide_${index}"><span class="bi bi-chevron-left" aria-label="Précédent">Précédent</span></a></li>`
                } 
                ${index + 1 == length ?
                  `<li class="page-item disabled"><span class="page-link bi bi-chevron-right">Suivant</span></li>` :
                  `<li class="page-item"><a class="page-link" href="#slide_${index + 1 + 1}"><span class="bi bi-chevron-right" aria-label="Suivant">Suivant</span></a></li>`
                }
                </ul>
              `;
            }
          });
        });
      });
    </script>
  </body>
</html>
